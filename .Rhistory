devtools::document()
devtools::document()
usethis::use_vignette("intro-dynamicAutoregCV")
utils::packageDescription(dynamicAutoregCV)
dynamicAutoregCV
library(dynamicAutoregCV)
dynamicAutoregCV <- library(dynamicAutoregCV)
utils::packageDescription(dynamicAutoregCV)
devtools::document()
usethis::use_package("ggplot2")
devtools::document()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::document()
devtools::document()
devtools::document()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1)
mean_mae_betas <- numeric(length = length(betas))
mean_mae_betas
names(mean_mae_betas) <- paste0('beta_',betas)
mean_mae_betas
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1)
mean_mae_betas <- numeric(length = length(betas))
names(mean_mae_betas) <- paste0('beta_',betas)
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8, lags = 7, beta = beta_i)
mean_mae_betas(paste('beta_', beta_i)) = cv_beta_i$mean_mae
}
library(dynamicAutoregCV)
library(ggplot2)
data("temp_austin")
str(temp_austin)
head(temp_austin)
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1)
mean_mae_betas <- numeric(length = length(betas))
names(mean_mae_betas) <- paste0('beta_',betas)
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8, lags = 7, beta = beta_i)
mean_mae_betas(paste('beta_', beta_i)) = cv_beta_i$mean_mae
}
train_test_data <- train_test_split(temps, dates, p = 0.05)
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8, lags = 7, beta = beta_i)
mean_mae_betas(paste('beta_', beta_i)) = cv_beta_i$mean_mae
}
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8, lags = 7, beta = betas[1])
cv_beta_i
mean_mae_betas
mean_mae_betas['beta_0.001']
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8, lags = 7, beta = beta_i)
mean_mae_betas[paste('beta_', beta_i)] = cv_beta_i$mean_mae
}
mean_mae_betas
mean_mae_betas[3]
mean_mae_betas
mean_mae_betas['beta_0.1']
mean_mae_betas[['beta_0.1']]
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5, 10, 20, 50)
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8, lags = 7, beta = beta_i)
mean_mae_betas[paste('beta_', beta_i)] = cv_beta_i$mean_mae
}
mean_mae_betas
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5, 10, 20, 50)
mean_mae_betas <- numeric(length = length(betas))
names(mean_mae_betas) <- paste0('beta_',betas)
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8, lags = 7, beta = beta_i)
mean_mae_betas[paste('beta_', beta_i)] = cv_beta_i$mean_mae
}
mean_mae_betas
use_readme_rmd()
library(usethis)
use_readme_rmd()
rmarkdown::render("README.Rmd")
## ----include = FALSE----------------------------------------------------------
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
## ----setup--------------------------------------------------------------------
library(dynamicAutoregCV)
library(ggplot2)
## ----load-data----------------------------------------------------------------
data("temp_austin")
str(temp_austin)
head(temp_austin)
## ----plot data----------------------------------------------------------------
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
## ----plot-time-series, fig.height=4, fig.width=7------------------------------
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
pdf("time_series_temp_austin.pdf", width = 7, height = 5)
## ----include = FALSE----------------------------------------------------------
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
## ----setup--------------------------------------------------------------------
library(dynamicAutoregCV)
library(ggplot2)
## ----load-data----------------------------------------------------------------
data("temp_austin")
str(temp_austin)
head(temp_austin)
## ----plot data----------------------------------------------------------------
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
## ----plot-time-series, fig.height=4, fig.width=7------------------------------
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
dev.off()
pdf("time_series_temp_austin.pdf", width = 21, height = 5)
## ----include = FALSE----------------------------------------------------------
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
## ----setup--------------------------------------------------------------------
library(dynamicAutoregCV)
library(ggplot2)
## ----load-data----------------------------------------------------------------
data("temp_austin")
str(temp_austin)
head(temp_austin)
## ----plot data----------------------------------------------------------------
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
## ----plot-time-series, fig.height=4, fig.width=7------------------------------
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
dev.off()
pdf("time_series_temp_austin.pdf", width = 21, height = 5)
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal() +
theme(
plot.title = element_text(size = 20),      # título
axis.title.x = element_text(size = 16),    # etiqueta eje X
axis.title.y = element_text(size = 16),    # etiqueta eje Y
axis.text.x  = element_text(size = 12),    # valores en eje X
axis.text.y  = element_text(size = 12)     # valores en eje Y
)
dev.off()
pdf("time_series_temp_austin.pdf", width = 21, height = 5)
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal() +
theme(
plot.title = element_text(size = 50),      # título
axis.title.x = element_text(size = 40),    # etiqueta eje X
axis.title.y = element_text(size = 40),    # etiqueta eje Y
axis.text.x  = element_text(size = 35),    # valores en eje X
axis.text.y  = element_text(size = 35)     # valores en eje Y
)
dev.off()
rmarkdown::render("README.Rmd")
rmarkdown::render("README.Rmd")
Inf
4 > Inf
4 < Inf
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
example <- c(1,2,3,4,5)
embed(x, 1 + 1)
embed(example, 1 + 1)
embed(example, 1 + 2)
exmaple <- 1:15
example
example <- 1:15
example
length_example <- length(example)
exmaple[length_example - 3:]
example[length_example - 3:]
example[1:3]
example[3:]
length_example
example
example[1:length_example]
example[(length_example - 3):length_example]
exmaple_1 <- 1:10
example_1 <- 1:10
example_2 <- 10:20
example_1 * example_2
example_1
example_2
length(exmaple_1)
length(exmaple_2)
length(example_2)
length(example_1)
example_1 <- 1:11
example_1 * example_2
example_1
example_2
sum(example_1 * example_2)
example_1
example_2
example_1 + c(20)
cbind(example_1, c(89))
example <- 1:10
example[19]
1e-5
1e-5 * 100000
example <- 1:15
example[(length(example) - 3 + 1):(length(example))]
example
c(example,20)
devtools::build_vignettes()
## ----setup--------------------------------------------------------------------
library(dynamicAutoregCV)
library(ggplot2)
## ----load-data----------------------------------------------------------------
data("temp_austin")
str(temp_austin)
head(temp_austin)
## ----plot data----------------------------------------------------------------
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
## ----plot-time-series, fig.height=4, fig.width=7------------------------------
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
## ----split data---------------------------------------------------------------
train_test_data <- train_test_split(temps, dates, p = 0.05)
print(paste('The total lenght of the time-serie is:', length(temps)))
print(paste('The number of points for cross-validation (and initial training) are:', length(train_test_data$x_train)))
print(paste('The number of points for testing (and dynamic training) are:',length(train_test_data$x_test)))
print(paste('Initial date for training', train_test_data$dates_train[1], '. Final date for training', train_test_data$dates_train[length(train_test_data$dates_train)]))
print(paste('Initial date for testing', train_test_data$dates_test[1], '. Final date for testing', train_test_data$dates_test[length(train_test_data$dates_test)]))
## ----cross-validation---------------------------------------------------------
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5, 10, 20, 50)
lags <- c(3,7,14,21,30)
beta_min <- NULL
lag_min <- NULL
mean_mae_min <- Inf
for (lag_i in lags){
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8,
lags = lag_i, beta = beta_i)$mean_mae
if (cv_beta_i < mean_mae_min){
mean_mae_min <- cv_beta_i
beta_min <- beta_i
lag_min <- lag_i
}
}
}
cat(
"The lowest mean out-of-sample prediction error was achieved while,\n",
"beta = ", beta_min, "\n",
"lags = ", lag_min, "\n",
sep = ""
)
forecasting <- dynamic_regression(train_test_data$x_train,
train_test_data$x_test,
beta_min, lag_min)
## ----setup--------------------------------------------------------------------
library(dynamicAutoregCV)
library(ggplot2)
## ----load-data----------------------------------------------------------------
data("temp_austin")
str(temp_austin)
head(temp_austin)
## ----plot data----------------------------------------------------------------
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
## ----plot-time-series, fig.height=4, fig.width=7------------------------------
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
## ----split data---------------------------------------------------------------
train_test_data <- train_test_split(temps, dates, p = 0.05)
print(paste('The total lenght of the time-serie is:', length(temps)))
print(paste('The number of points for cross-validation (and initial training) are:', length(train_test_data$x_train)))
print(paste('The number of points for testing (and dynamic training) are:',length(train_test_data$x_test)))
print(paste('Initial date for training', train_test_data$dates_train[1], '. Final date for training', train_test_data$dates_train[length(train_test_data$dates_train)]))
print(paste('Initial date for testing', train_test_data$dates_test[1], '. Final date for testing', train_test_data$dates_test[length(train_test_data$dates_test)]))
## ----cross-validation---------------------------------------------------------
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5, 10, 20, 50)
lags <- c(3,7,14,21,30)
beta_min <- NULL
lag_min <- NULL
mean_mae_min <- Inf
for (lag_i in lags){
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8,
lags = lag_i, beta = beta_i)$mean_mae
if (cv_beta_i < mean_mae_min){
mean_mae_min <- cv_beta_i
beta_min <- beta_i
lag_min <- lag_i
}
}
}
cat(
"The lowest mean out-of-sample prediction error was achieved while,\n",
"beta = ", beta_min, "\n",
"lags = ", lag_min, "\n",
sep = ""
)
## ----dynamic training---------------------------------------------------------
forecasting <- dynamic_regression(train_test_data$x_train,
train_test_data$x_test,
beta_min, lag_min)
warnings()
library(dynamicAutoregCV)
library(ggplot2)
## ----load-data----------------------------------------------------------------
data("temp_austin")
str(temp_austin)
head(temp_austin)
## ----plot data----------------------------------------------------------------
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
## ----plot-time-series, fig.height=4, fig.width=7------------------------------
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
## ----split data---------------------------------------------------------------
train_test_data <- train_test_split(temps, dates, p = 0.05)
print(paste('The total lenght of the time-serie is:', length(temps)))
print(paste('The number of points for cross-validation (and initial training) are:', length(train_test_data$x_train)))
print(paste('The number of points for testing (and dynamic training) are:',length(train_test_data$x_test)))
print(paste('Initial date for training', train_test_data$dates_train[1], '. Final date for training', train_test_data$dates_train[length(train_test_data$dates_train)]))
print(paste('Initial date for testing', train_test_data$dates_test[1], '. Final date for testing', train_test_data$dates_test[length(train_test_data$dates_test)]))
## ----cross-validation---------------------------------------------------------
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5, 10, 20, 50)
lags <- c(3,7,14,21,30)
beta_min <- NULL
lag_min <- NULL
mean_mae_min <- Inf
for (lag_i in lags){
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8,
lags = lag_i, beta = beta_i)$mean_mae
if (cv_beta_i < mean_mae_min){
mean_mae_min <- cv_beta_i
beta_min <- beta_i
lag_min <- lag_i
}
}
}
cat(
"The lowest mean out-of-sample prediction error was achieved while,\n",
"beta = ", beta_min, "\n",
"lags = ", lag_min, "\n",
sep = ""
)
## ----dynamic training---------------------------------------------------------
forecasting <- dynamic_regression(train_test_data$x_train,
train_test_data$x_test,
beta_min, lag_min)
## ----setup--------------------------------------------------------------------
library(dynamicAutoregCV)
library(ggplot2)
## ----load-data----------------------------------------------------------------
data("temp_austin")
str(temp_austin)
head(temp_austin)
## ----plot data----------------------------------------------------------------
temps <- temp_austin$temp
temp_austin$date <- as.Date(temp_austin$date) # Keep dates as Date data-type
dates <- temp_austin$date
summary(temps)
## ----plot-time-series, fig.height=4, fig.width=7------------------------------
ggplot(temp_austin, aes(x = date, y = temp)) +
geom_line() +
labs(
title = "Daily temperature in Austin",
x = "Date",
y = "Temperature (°F)"
) +
theme_minimal()
## ----split data---------------------------------------------------------------
train_test_data <- train_test_split(temps, dates, p = 0.05)
print(paste('The total lenght of the time-serie is:', length(temps)))
print(paste('The number of points for cross-validation (and initial training) are:', length(train_test_data$x_train)))
print(paste('The number of points for testing (and dynamic training) are:',length(train_test_data$x_test)))
print(paste('Initial date for training', train_test_data$dates_train[1], '. Final date for training', train_test_data$dates_train[length(train_test_data$dates_train)]))
print(paste('Initial date for testing', train_test_data$dates_test[1], '. Final date for testing', train_test_data$dates_test[length(train_test_data$dates_test)]))
## ----cross-validation---------------------------------------------------------
betas <- c(0.0001, 0.001, 0.01, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5, 10, 20, 50)
lags <- c(3,7)
beta_min <- NULL
lag_min <- NULL
mean_mae_min <- Inf
for (lag_i in lags){
for (beta_i in betas){
cv_beta_i <- cv_ar_l2(train_test_data$x_train, folds = 8,
lags = lag_i, beta = beta_i)$mean_mae
if (cv_beta_i < mean_mae_min){
mean_mae_min <- cv_beta_i
beta_min <- beta_i
lag_min <- lag_i
}
}
}
cat(
"The lowest mean out-of-sample prediction error was achieved while,\n",
"beta = ", beta_min, "\n",
"lags = ", lag_min, "\n",
sep = ""
)
## ----dynamic training---------------------------------------------------------
forecasting <- dynamic_regression(train_test_data$x_train,
train_test_data$x_test,
beta_min, lag_min)
example
example_array <- 1:15
example_array[2:]
example_array[2:,]
example_array[,2:]
example_array[2:15]
example_array[(15-3):15]
example_array[(15-3+1):15]
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
1:3 %*% 1:3
drop(1:3 %*% 1:3)
devtools::document()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
